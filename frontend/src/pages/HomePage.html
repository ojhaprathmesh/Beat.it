<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Join the music revolution with Beat.it! Login now to enjoy an amazing experience.">
    <title>Beat.it</title>

    <!-- Preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Preload critical fonts -->
    <link rel="preload" href="../modular_styles/fontStyles.css" as="style" onload="this.rel='stylesheet'">

    <!-- External stylesheet -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #002760;
            background-image: url(../assets/home/bg-graphic.png);
            background-size: cover;
            width: 100vw;
            height: 100vw;
            overflow: hidden;
        }
    </style>

    <link rel="stylesheet" href="HomePage.css" media="print" onload="this.media='all'">
</head>

<body>
    <nav class="navbar">
        <div class="logo-container" id="logo-home">
            <img src="../assets/Beat.it White Logo.png" alt="Beat.it Logo" width="60px" height="60px">
        </div>
        <div class="searchbar">
            <img id="search-icon" src="../assets/home/search.png" alt="Search Icon" width="32px" height="32px">
            <hr id="line-separator">
            <input class="font-inter" style="font-weight: 100;" id="search-input" type="text"
                placeholder="Search by artists, songs or albums">
        </div>
        <div class="profile font-inter">
            <h1 id="username-letter" style="font-weight: 100;">P</h1>
        </div>
    </nav>

    <section class="main-body">
        <section class="song-container font-montserrat">
            <h1 id="song-heading">Songs</h1>
            <div id="song-list"></div>
        </section>

        <section class="album-container font-montserrat">
            <h1 id="album-heading">Albums</h1>
            <div id="album-list"></div>
        </section>
    </section>

    <footer class="player">
        <div class="player-albuminfo">
            <div class="player-songcover">
                <img src="../assets/home/Album Cover.png" alt="Player Album Cover" width="75px" height="75px">
            </div>
            <div class="player-songdetails">
                <div class="player-songname">Main Yahaan Hoon</div>
                <div class="player-artistname">Artist</div>
            </div>
            <div class="like-btn">
                <input type="checkbox" id="like-check" style="display: none;">
                <i class="fas fa-heart"></i>
            </div>
        </div>
        </div>
        <div class="slider_controls">
            <img src="../assets/home/Player-Slider.png" class="player_slider" alt="Slider" width="500px" height="10px">
            <img src="../assets/home/Player Controls.png" class="playercontrols">
        </div>
        <img src="../assets/home/Queue Volume.png" class="queue_vol">
    </footer>

    <script>
        // Song repetition code
        const songs = [
            { title: 'One More Time', artist: 'Daft Punk', cover: '../assets/home/Song Cover - 1.png' },
            { title: 'Something', artist: 'The Beatles', cover: '../assets/home/Song Cover - 2.png' }
        ];

        const songsList = document.getElementById('song-list');

        const createSongRow = (songIndex, rowClass, repeatCount) => {
            const row = document.createElement('div');
            row.classList.add(rowClass);

            for (let i = 0; i < repeatCount; i++) {
                const songRow = document.createElement('div');
                songRow.classList.add('song-row-item'); // Common class for individual song items

                const song = songs[songIndex];

                songRow.innerHTML = `
                    <img src="${song.cover}" class="song-cover" alt="Song Cover: ${song.title}" width="75px" height="75px">
                    <div class="title-artist font-syne">
                        <div class="song-title">${song.title}</div>
                        <div class="album-name">${song.artist}</div>
                    </div>
                `;

                row.appendChild(songRow);
            }

            return row;
        };

        const repeatCountSong = 6;

        songsList.appendChild(createSongRow(0, 'song-row-1', repeatCountSong));
        songsList.appendChild(createSongRow(1, 'song-row-2', repeatCountSong));


        // Album repetition code
        const albums = [
            { title: 'The Queen Is Dead', cover: '../assets/home/Album Cover - 1.png' },
            { title: 'Abbey Road', cover: '../assets/home/Album Cover - 2.png' },
            { title: 'Random Access Memories', cover: '../assets/home/Album Cover - 3.png' }
        ];

        const albumList = document.getElementById('album-list');

        const createAlbumRow = (rowClass, repeatCount) => {
            const row = document.createElement('div');
            row.classList.add(rowClass);

            for (let i = 0; i < repeatCount; i++) {
                const albumDiv = document.createElement('div');
                albumDiv.classList.add('album-row-item'); // Common class for individual album items

                const album = albums[i % albums.length];

                albumDiv.innerHTML = `
                <img src="${album.cover}" class="album_cover" alt="Album Cover: ${album.title}" width="145px" height="145px">
                <p class="album-title font-syne">${album.title}</p>
                `;

                row.appendChild(albumDiv);
            }

            return row;
        };

        const repeatCountAlbum = 6;

        albumList.appendChild(createAlbumRow('album-row', repeatCountAlbum));


        // Like button funtionality
        const likeBtn = document.querySelector('.like-btn');
        const checkbox = document.getElementById('like-check');

        likeBtn.addEventListener('click', () => {
            checkbox.checked = !checkbox.checked; // Toggle the checkbox
            if (checkbox.checked) {
                likeBtn.querySelector('.fa-heart').style.color = 'red';
            } else {
                likeBtn.querySelector('.fa-heart').style.color = 'gray';
            }
        });
    </script>
</body>

</html>